@{
    ViewData["Title"] = "Gönderiler";
}
<section class="blog-section">
    <div class="main-container">
        <div class="blog-list-wrapper" id="blog-list-all">
            <div role="list" class="blog-list">
                @foreach (var article in Model.Items)
                {
                    <div role="listitem">
                        <a asp-action="Detail" asp-controller="Post" asp-route-id="@article.Id" class="blog-list-item">
                            <img alt="Fotograf bulunamadı" src="~/Uploads/@article.Image.FileName" class="blog-main-image">
                            <div class="blog-meta">
                                @if (!string.IsNullOrWhiteSpace(article.Category.Name))
                                {
                                    <div class="category-text-style">@article.Category.Name</div>
                                }
                                else
                                {
                                    <div class="category-text-style">Kategori bulunamadı.</div>
                                }
                                @if (!string.IsNullOrWhiteSpace(article.Category.Name))
                                {
                                    <div class="reading-time">@article.CreatedDate.ToString("MMMM dd, yyyy")</div>
                                }
                                else
                                {
                                    <div class="reading-time">Tarih bulunamadı.</div>
                                }
                                <img src="https://assets-global.website-files.com/6577019a915bb98abc733614/65770613c4602911abe0fa5a_arrow.png" alt="Fotograf bulunamadı" class="blog-meta-arrow">
                            </div>
                            @if (!string.IsNullOrWhiteSpace(article.Title))
                            {
                                <h4 class="main-blog-title">@article.Title</h4>
                            }
                            else
                            {
                                <h4 class="main-blog-title">Başlık bulunamadı.</h4>
                            }
                        </a>
                    </div>
                }
            </div>
        </div>
        <div role="navigation" aria-label="List" class="pagination pagination-post">
            @if (Model.TotalPages > 1)
            {
                @if (Model.Page > 1)
                {
                    <a href="javascript:void(0);" onclick="loadPage(@Model.Page - 1)" class="pagination-previous previous">
                        <svg class="pagination-previous-icon" height="12px" width="12px" xmlns="http://www.w3.org/2000/svg">
                            <path fill="none" stroke="currentColor" fill-rule="evenodd" d="M8 10L4 6l4-4"></path>
                        </svg>
                        <div class="inline-block">Önceki</div>
                    </a>
                }

                @if (Model.Page < Model.TotalPages)
                {
                    <a href="javascript:void(0);" onclick="loadPage(@Model.Page + 1)" class="pagination-next next">
                        <div class="inline-block">Sonraki</div>
                        <svg class="w-pagination-next-icon" height="12px" width="12px"
                             xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" transform="translate(0, 1)">
                            <path fill="none" stroke="currentColor" fill-rule="evenodd" d="M4 2l4 4-4 4"></path>
                        </svg>
                    </a>
                }
            }
        </div>
    </div>
</section>

<script>
    function loadPage(page) {
        var url = "@Url.Action("Index")" + "?page=" + page;
        $.get(url, function (data) {
            $("#blog-list-all").html($(data).find("#blog-list-all").html());
            $(".pagination-post").html($(data).find(".pagination-post").html());
        });
    }
</script>
